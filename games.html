<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Game Menu</title>
  <style>
    body { font-family: sans-serif; text-align: center; margin: 0; padding: 0; background: #f0f0f0; }
    h1 { margin-top: 20px; }
    .menu { margin: 20px; }
    button { padding: 10px 20px; margin: 5px; font-size: 16px; }
    .game-container { display: none; margin-top: 20px; }
    canvas { background: #bfbfbf; display: block; margin: 0 auto; }
    #scoreDisplay { font-size: 18px; margin-bottom: 10px; }
  </style>
</head>
<body>
  <h1>üéÆ What game do you wanna play?</h1>
  <div class="menu">
    <button onclick="showGame('snake')">Snake</button>
    <button onclick="showGame('runningCubes')">Running Cubes</button>
  </div>

  <!-- Snake Game -->
  <div id="snake" class="game-container">
    <div id="scoreDisplay">Score: 0</div>
    <canvas id="snakeCanvas" width="300" height="300"></canvas>
    <div style="margin-top: 10px;">
      <div><button onclick="setDirection('up')">‚¨ÜÔ∏è Up</button></div>
      <div>
        <button onclick="setDirection('left')">‚¨ÖÔ∏è Left</button>
        <button onclick="setDirection('down')">‚¨áÔ∏è Down</button>
        <button onclick="setDirection('right')">‚û°Ô∏è Right</button>
      </div>
    </div>
  </div>

  <!-- Running Cubes Game -->
  <div id="runningCubes" class="game-container">
    <canvas id="cubeCanvas" width="300" height="300"></canvas>
    <div style="margin-top: 10px;">
      <div><button onclick="moveCube('up')">‚¨ÜÔ∏è Up</button></div>
      <div>
        <button onclick="moveCube('left')">‚¨ÖÔ∏è Left</button>
        <button onclick="moveCube('down')">‚¨áÔ∏è Down</button>
        <button onclick="moveCube('right')">‚û°Ô∏è Right</button>
      </div>
    </div>
  </div>

  <script>
    function showGame(gameId) {
      document.querySelectorAll('.game-container').forEach(el => el.style.display = 'none');
      document.getElementById(gameId).style.display = 'block';
      if (gameId === 'snake') startSnake();
      if (gameId === 'runningCubes') startRunningCubes();
    }

    // Snake Game Logic
    let snakeCtx, snake, food, dx, dy, snakeInterval, score;

    function startSnake() {
      clearInterval(snakeInterval);
      const canvas = document.getElementById('snakeCanvas');
      snakeCtx = canvas.getContext('2d');
      snake = [{x: 150, y: 150}];
      dx = 10; dy = 0;
      score = 0;
      food = {x: 100, y: 100};
      document.getElementById('scoreDisplay').innerText = `Score: ${score}`;
      snakeInterval = setInterval(drawSnake, 162); // Slower speed
      playSound('start');
    }

    function setDirection(dir) {
      if (dir === 'up' && dy === 0) { dx = 0; dy = -10; }
      if (dir === 'down' && dy === 0) { dx = 0; dy = 10; }
      if (dir === 'left' && dx === 0) { dx = -10; dy = 0; }
      if (dir === 'right' && dx === 0) { dx = 10; dy = 0; }
    }

    function drawSnake() {
      const head = {x: snake[0].x + dx, y: snake[0].y + dy};

      if (
        head.x < 0 || head.x >= 300 || head.y < 0 || head.y >= 300 ||
        snake.some(segment => segment.x === head.x && segment.y === head.y)
      ) {
        clearInterval(snakeInterval);
        playSound('crash');
        alert(`Game Over! Final Score: ${score}`);
        return;
      }

      snake.unshift(head);

      if (head.x === food.x && head.y === food.y) {
        score++;
        document.getElementById('scoreDisplay').innerText = `Score: ${score}`;
        food = {x: Math.floor(Math.random()*30)*10, y: Math.floor(Math.random()*30)*10};
        playSound('eat');
      } else {
        snake.pop();
      }

      snakeCtx.clearRect(0, 0, 300, 300);
      snakeCtx.fillStyle = 'lime';
      snake.forEach(part => snakeCtx.fillRect(part.x, part.y, 10, 10));
      snakeCtx.fillStyle = 'red';
      snakeCtx.fillRect(food.x, food.y, 10, 10);
    }

    function playSound(type) {
      const ctx = new (window.AudioContext || window.webkitAudioContext)();
      const osc = ctx.createOscillator();
      const gain = ctx.createGain();

      switch (type) {
        case 'eat':
          osc.type = 'square';
          osc.frequency.setValueAtTime(440, ctx.currentTime);
          break;
        case 'crash':
          osc.type = 'sawtooth';
          osc.frequency.setValueAtTime(120, ctx.currentTime);
          break;
        case 'start':
          osc.type = 'triangle';
          osc.frequency.setValueAtTime(300, ctx.currentTime);
          break;
      }

      gain.gain.setValueAtTime(0.1, ctx.currentTime);
      osc.connect(gain);
      gain.connect(ctx.destination);
      osc.start();
      osc.stop(ctx.currentTime + 0.2);
    }

    // Running Cubes Game Logic
    let cubeCtx, player, target;

    function startRunningCubes() {
      const canvas = document.getElementById('cubeCanvas');
      cubeCtx = canvas.getContext('2d');
      player = {x: 50, y: 50, size: 30};
      target = {x: 200, y: 200, size: 30};
      drawCubes();
    }

    function moveCube(dir) {
      const step = 20;
      if (dir === 'up') player.y = Math.max(0, player.y - step);
      if (dir === 'down') player.y = Math.min(270, player.y + step);
      if (dir === 'left') player.x = Math.max(0, player.x - step);
      if (dir === 'right') player.x = Math.min(270, player.x + step);
      drawCubes();
      checkCollision();
    }

    function checkCollision() {
      if (Math.abs(player.x - target.x) < 30 && Math.abs(player.y - target.y) < 30) {
        target.x = Math.random() * (300 - target.size);
        target.y = Math.random() * (300 - target.size);
      }
    }

    function drawCubes() {
      cubeCtx.clearRect(0, 0, 300, 300);
      cubeCtx.fillStyle = 'yellow';
      cubeCtx.fillRect(player.x, player.y, player.size, player.size);
      cubeCtx.fillStyle = 'orange';
      cubeCtx.fillRect(target.x, target.y, target.size, target.size);
    }
  </script>
</body>
</html>